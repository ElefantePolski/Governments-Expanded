namespace = reform_me_events

country_event = {
	id = reform_me_events.1
	title = reform_me_events.1.t
	desc = reform_me_events.1.d
	picture = LIBERIUM_VETO_eventPicture
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			random_list = {
				10 = { set_country_flag = Cortes_Navy }
				10 = { set_country_flag = Cortes_Trade }
				10 = { set_country_flag = Cortes_Goods }
			}
			random_list = {
				10 = { set_country_flag = Cortes_Manpower }
				10 = { set_country_flag = Cortes_Morale }
				10 = { set_country_flag = Cortes_Discipline }
			}
			random_list = {
				10 = { set_country_flag = Cortes_Piety }
				10 = { set_country_flag = Cortes_Gold }
				10 = { set_country_flag = Cortes_Pope }
			}
		}
	}
	
	option = {
		name = reform_me_events.1.a
		
		trigger_switch = {
			on_trigger = has_country_flag
			Cortes_Navy = {
				add_country_modifier = {
					name = "Cortes_Navy"
					duration = 3650
				}
				clr_country_flag = Cortes_Navy
			}
			Cortes_Trade = {
				add_country_modifier = {
					name = "Cortes_Trade"
					duration = 3650
				}
				clr_country_flag = Cortes_Trade
			}
			Cortes_Goods = {
				add_country_modifier = {
					name = "Cortes_Goods"
					duration = 3650
				}
				clr_country_flag = Cortes_Goods
			}
		}
		clr_country_flag = Cortes_Manpower
		clr_country_flag = Cortes_Morale
		clr_country_flag = Cortes_Discipline
		clr_country_flag = Cortes_Piety
		clr_country_flag = Cortes_Pope
		clr_country_flag = Cortes_Gold
	}
	
	option = {
		name = reform_me_events.1.b
		
		trigger_switch = {
			on_trigger = has_country_flag
			Cortes_Manpower = {
				add_country_modifier = {
					name = "Cortes_Manpower"
					duration = 3650
				}
				clr_country_flag = Cortes_Manpower
			}
			Cortes_Morale = {
				add_country_modifier = {
					name = "Cortes_Morale"
					duration = 3650
				}
				clr_country_flag = Cortes_Morale
			}
			Cortes_Discipline = {
				add_country_modifier = {
					name = "Cortes_Discipline"
					duration = 3650
				}
				clr_country_flag = Cortes_Discipline
			}
		}
		add_estate_influence_modifier = {
			estate = estate_nobles
			desc = EST_VAL_NOBILITY_ADVANCES
			influence = 10
			duration = 3650
		}
		add_estate_loyalty = {
			estate = estate_nobles
			loyalty = 10
		}
		clr_country_flag = Cortes_Trade
		clr_country_flag = Cortes_Navy
		clr_country_flag = Cortes_Goods
		clr_country_flag = Cortes_Piety
		clr_country_flag = Cortes_Pope
		clr_country_flag = Cortes_Gold
	}
	
	option = {
		name = reform_me_events.1.c
		
		trigger_switch = {
			on_trigger = has_country_flag
			Cortes_Piety = {
				add_country_modifier = {
					name = "Cortes_Piety"
					duration = 3650
				}
				clr_country_flag = Cortes_Piety
			}
			Cortes_Pope = {
				add_papal_influence = 10
				clr_country_flag = Cortes_Pope
			}
			Cortes_Gold = {
				add_years_of_income = 0.6
				clr_country_flag = Cortes_Gold
			}
		}
		add_estate_influence_modifier = {
			estate = estate_church
			desc = EST_VAL_CHURCH_ADVANCE
			influence = 10
			duration = 3650
		}
		add_estate_loyalty = {
			estate = estate_church
			loyalty = 10
		}
		clr_country_flag = Cortes_Manpower
		clr_country_flag = Cortes_Morale
		clr_country_flag = Cortes_Discipline
		clr_country_flag = Cortes_Trade
		clr_country_flag = Cortes_Navy
		clr_country_flag = Cortes_Goods
	}
}

country_event = {
	id = reform_me_events.2
	title = reform_me_events.2.t
	desc = reform_me_events.2.d
	picture = WESTERNISATION_eventPicture
	
	fire_only_once = yes

	trigger = {
		tag = POR
		is_year = 1481
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = reform_me_events.2.a
		
		add_navy_tradition = 40
		add_government_reform = kingdom_of_portugal_and_azures
	}
}

country_event = {
	id = reform_me_events.3
	title = reform_me_events.3.t
	desc = reform_me_events.3.d
	picture = WESTERNISATION_eventPicture
	hidden = yes
	

	trigger = {
		has_reform = unrestricted_diplomacy_reform
		any_country = {
			NOT = {
				has_opinion_modifier = {
					who = ROOT
					modifier = opinion_unrestricted_diplomacy
				}
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		every_country = {
			limit = {
				NOT = {
					has_opinion_modifier = {
						who = ROOT
						modifier = opinion_unrestricted_diplomacy
					}
				}
			}
			add_opinion = { who = ROOT modifier = opinion_unrestricted_diplomacy }
		}
	}
	
	option = {
		name = reform_me_events.3.a
		
	}
}


country_event = {
	id = reform_me_events.4
	title = reform_me_events.4.t
	desc = reform_me_events.4.d
	picture = WESTERNISATION_eventPicture
	hidden = yes
	

	trigger = {
		has_reform = ajuraan_theocracy_reform
		has_heir = no
	}
	
	mean_time_to_happen = {
		days = 1825
	}
	
	immediate = {
		define_heir = {
			dynasty = "Garen"
			age = 0
			adm = 0
			dip = 0
			mil = 0
			claim = 100
			male = yes
			religion = ROOT
			culture = ROOT
		}
	}
	
	option = {
		name = reform_me_events.4.a
		
	}
}

country_event = {
	id = reform_me_events.5
	title = reform_me_events.5.t
	desc = reform_me_events.5.d
	picture = WESTERNISATION_eventPicture
	hidden = yes
	

	trigger = {
		has_reform = restore_the_davidic_line_reform
		has_heir = no
	}
	
	mean_time_to_happen = {
		days = 1825
	}
	
	immediate = {
		define_heir = {
			dynasty = Ben-David`
			age = 0
			adm = 1
			dip = 1
			mil = 1
			claim = 100
			male = yes
			religion = jewish
			culture = hebreb
		}
	}
	
	option = {
		name = reform_me_events.5.a
		
	}
}

country_event = {
	id = reform_me_events.6
	title = reform_me_events.6.t
	desc = reform_me_events.6.d
	picture = WESTERNISATION_eventPicture
	hidden = yes
	

	trigger = {
		has_reform = dynastic_theocracy_reform
		has_heir = no
	}
	
	mean_time_to_happen = {
		days = 1825
	}
	
	immediate = {
		define_heir = {
			name = "lastname"
			age = 0
			claim = 100
			male = yes
			religion = ROOT
			culture = ROOT
		}
	}
	
	option = {
		name = reform_me_events.6.a
		
	}
}

country_event = {
	id = reform_me_events.7
	title = reform_me_events.7.t
	desc = reform_me_events.7.d
	picture = BURGHER_ESTATE_UPSET_eventPicture

	trigger = {
		has_reform = rule_by_consent_reform
		NOT = { has_reform = andrea_doria_constitution_reform }
	}
	
	mean_time_to_happen = {
		days = 10950
	}
	
	option = {
		name = reform_me_events.7.a
		
		define_ruler = {
			hide_skills = yes
			dip = 1
		}
	}
	
	option = {
		name = reform_me_events.7.b
		
		capital_scope = {
			spawn_rebels = {
				type = pretender_rebels
				size = 3
				win = yes
			}
		}
	}
}

country_event = {
	id = reform_me_events.8
	title = reform_me_events.8.t
	desc = reform_me_events.8.d
	picture = ANGRY_MOB_eventPicture

	trigger = {
		has_reform = rule_by_consent_reform
		NOT = { has_reform = andrea_doria_constitution_reform }
	}
	
	mean_time_to_happen = {
		days = 10950
	}
	
	option = {
		name = reform_me_events.8.a
		
		kill_ruler = yes
		add_republican_tradition = 3
	}
	
	option = {
		name = reform_me_events.8.b
		
		capital_scope = {
			spawn_rebels = {
				type = anti_tax_rebels 
				size = 3
				win = yes
			}
		}
	}
}

country_event = {
	id = reform_me_events.9
	title = reform_me_events.9.t
	desc = reform_me_events.9.d
	picture = NOBLE_ESTATE_TAKE_OVER_eventPicture
	
	trigger = {
		has_reform = rule_by_consent_reform
		NOT = { has_reform = andrea_doria_constitution_reform }
	}
	
	mean_time_to_happen = {
		days = 10950
	}
	
	option = {
		name = reform_me_events.9.a
		
		define_ruler = {
			hide_skills = yes
			mil = 1
		}
		add_republican_tradition = -3
	}
	
	option = {
		name = reform_me_events.9.b
		
		capital_scope = {
			spawn_rebels = {
				type = noble_rebels
				size = 3
				win = yes
			}
		}
	}
}